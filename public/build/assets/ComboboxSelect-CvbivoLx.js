import{r as d,R as j,a as Ue,j as D,A as He}from"./app-Bjn5v1rC.js";import{e as Ke}from"./Icons-CqyroUO_.js";import{o as g,I as Y,y as te,n as H,H as Q,p as ge,E as We,z as qe,B as Ge,a as Fe,$ as Pe,C as _e,D as xe,G as Je,J as Xe,K as Ye,R as Qe,L as Ze,g as et,h as se,m as tt,k as nt,M as Oe,r as ot,N as rt,Q as Ce,u as X,w as it,S as st,U as lt,_ as at,x as A,V as ut,O as Ee,W as ct}from"./AuthLayout-CslI81Fu.js";import{a as ze,m as Te,G as dt,T as ft,j as pt,t as ye}from"./active-element-history-DuYwnnKx.js";function mt(e,i,t){let[n,o]=d.useState(t),r=e!==void 0,l=d.useRef(r),s=d.useRef(!1),u=d.useRef(!1);return r&&!l.current&&!s.current?(s.current=!0,l.current=r,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!r&&l.current&&!u.current&&(u.current=!0,l.current=r,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[r?e:n,g(c=>(r||o(c),i==null?void 0:i(c)))]}function ht(e){let[i]=d.useState(e);return i}let vt=d.createContext(void 0);function ke(){return d.useContext(vt)}let le=d.createContext(null);le.displayName="LabelContext";function De(){let e=d.useContext(le);if(e===null){let i=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(i,De),i}return e}function ae(e){var i,t,n;let o=(t=(i=d.useContext(le))==null?void 0:i.value)!=null?t:void 0;return((n=e==null?void 0:e.length)!=null?n:0)>0?[o,...e].filter(Boolean).join(" "):o}function bt({inherit:e=!1}={}){let i=ae(),[t,n]=d.useState([]),o=e?[i,...t].filter(Boolean):t;return[o.length>0?o.join(" "):void 0,d.useMemo(()=>function(r){let l=g(u=>(n(c=>[...c,u]),()=>n(c=>{let a=c.slice(),f=a.indexOf(u);return f!==-1&&a.splice(f,1),a}))),s=d.useMemo(()=>({register:l,slot:r.slot,name:r.name,props:r.props,value:r.value}),[l,r.slot,r.name,r.props,r.value]);return j.createElement(le.Provider,{value:s},r.children)},[n])]}let gt="label";function xt(e,i){var t;let n=d.useId(),o=De(),r=ke(),l=ze(),{id:s=`headlessui-label-${n}`,htmlFor:u=r??((t=o.props)==null?void 0:t.htmlFor),passive:c=!1,...a}=e,f=te(i);H(()=>o.register(s),[s,o.register]);let x=g(p=>{let y=p.currentTarget;if(y instanceof HTMLLabelElement&&p.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(p),y instanceof HTMLLabelElement){let C=document.getElementById(y.htmlFor);if(C){let E=C.getAttribute("disabled");if(E==="true"||E==="")return;let v=C.getAttribute("aria-disabled");if(v==="true"||v==="")return;(C instanceof HTMLInputElement&&(C.type==="radio"||C.type==="checkbox")||C.role==="radio"||C.role==="checkbox"||C.role==="switch")&&C.click(),C.focus({preventScroll:!0})}}}),h=l||!1,O=d.useMemo(()=>({...o.slot,disabled:h}),[o.slot,h]),S={ref:f,...o.props,id:s,htmlFor:u,onClick:x};return c&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in a&&delete a.onClick),Q({ourProps:S,theirProps:a,slot:O,defaultTag:u?gt:"div",name:o.name||"Label"})}let It=Y(xt),St=Object.assign(It,{});function ee(e,i,t){let n=t.initialDeps??[],o;return()=>{var r,l,s,u;let c;t.key&&((r=t.debug)!=null&&r.call(t))&&(c=Date.now());const a=e();if(!(a.length!==n.length||a.some((h,O)=>n[O]!==h)))return o;n=a;let x;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(x=Date.now()),o=i(...a),t.key&&((s=t.debug)!=null&&s.call(t))){const h=Math.round((Date.now()-c)*100)/100,O=Math.round((Date.now()-x)*100)/100,S=O/16,p=(y,C)=>{for(y=String(y);y.length<C;)y=" "+y;return y};console.info(`%câ± ${p(O,5)} /${p(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(u=t==null?void 0:t.onChange)==null||u.call(t,o),o}}function he(e,i){if(e===void 0)throw new Error("Unexpected undefined");return e}const Rt=(e,i)=>Math.abs(e-i)<1,Ot=(e,i)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>e.apply(this,n),i)}},Ct=e=>e,Et=e=>{const i=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=i;o<=t;o++)n.push(o);return n},Tt=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=r=>{const{width:l,height:s}=r;i({width:Math.round(l),height:Math.round(s)})};if(n(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const o=new ResizeObserver(r=>{const l=r[0];if(l!=null&&l.borderBoxSize){const s=l.borderBoxSize[0];if(s){n({width:s.inlineSize,height:s.blockSize});return}}n(t.getBoundingClientRect())});return o.observe(t,{box:"border-box"}),()=>{o.unobserve(t)}},Me={passive:!0},yt=typeof window>"u"?!0:"onscrollend"in window,Mt=(e,i)=>{const t=e.scrollElement;if(!t)return;let n=0;const o=yt?()=>{}:Ot(()=>{i(n,!1)},e.options.isScrollingResetDelay),r=u=>()=>{n=t[e.options.horizontal?"scrollLeft":"scrollTop"],o(),i(n,u)},l=r(!0),s=r(!1);return s(),t.addEventListener("scroll",l,Me),t.addEventListener("scrollend",s,Me),()=>{t.removeEventListener("scroll",l),t.removeEventListener("scrollend",s)}},wt=(e,i,t)=>{if(i!=null&&i.borderBoxSize){const n=i.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},$t=(e,{adjustments:i=0,behavior:t},n)=>{var o,r;const l=e+i;(r=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||r.call(o,{[n.options.horizontal?"left":"top"]:l,behavior:t})};class Ft{constructor(i){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(o=>{o.forEach(r=>{this._measureElement(r.target,r)})}):null);return{disconnect:()=>{var o;return(o=n())==null?void 0:o.disconnect()},observe:o=>{var r;return(r=n())==null?void 0:r.observe(o,{box:"border-box"})},unobserve:o=>{var r;return(r=n())==null?void 0:r.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ct,rangeExtractor:Et,onChange:()=>{},measureElement:wt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...t}},this.notify=(t,n)=>{var o,r;const{startIndex:l,endIndex:s}=this.range??{startIndex:void 0,endIndex:void 0},u=this.calculateRange();(t||l!==(u==null?void 0:u.startIndex)||s!==(u==null?void 0:u.endIndex))&&((r=(o=this.options).onChange)==null||r.call(o,this,n))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(n,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.scrollOffset<n?"forward":"backward":null,this.scrollOffset=n;const r=this.isScrolling;this.isScrolling=o,this.notify(r!==o,o)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=ee(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,n,o,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:r}),{key:!1}),this.getFurthestMeasurement=(t,n)=>{const o=new Map,r=new Map;for(let l=n-1;l>=0;l--){const s=t[l];if(o.has(s.lane))continue;const u=r.get(s.lane);if(u==null||s.end>u.end?r.set(s.lane,s):s.end<u.end&&o.set(s.lane,!0),o.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,s)=>l.end===s.end?l.index-s.index:l.end-s.end)[0]:void 0},this.getMeasurements=ee(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:r},l)=>{const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,s);for(let c=s;c<t;c++){const a=r(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),x=f?f.end+this.options.gap:n+o,h=l.get(a),O=typeof h=="number"?h:this.options.estimateSize(c),S=x+O,p=f?f.lane:c%this.options.lanes;u[c]={index:c,start:x,size:O,end:S,key:a,lane:p}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ee(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,n,o)=>this.range=t.length>0&&n>0?Pt({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ee(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,r)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.measurementsCache[this.indexFromElement(t)];if(!o||!t.isConnected){this.measureElementCache.forEach((s,u)=>{s===t&&(this.observer.unobserve(t),this.measureElementCache.delete(u))});return}const r=this.measureElementCache.get(o.key);r!==t&&(r&&this.observer.unobserve(r),this.observer.observe(t),this.measureElementCache.set(o.key,t));const l=this.options.measureElement(t,n,this);this.resizeItem(o,l)},this.resizeItem=(t,n)=>{const o=this.itemSizeCache.get(t.key)??t.size,r=n-o;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,r,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=ee(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let r=0,l=t.length;r<l;r++){const s=t[r],u=n[s];o.push(u)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();return he(n[Ae(0,n.length-1,o=>he(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize();n==="auto"&&(t<=this.scrollOffset?n="start":t>=this.scrollOffset+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",s=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-this.getSize();return Math.max(Math.min(s,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=he(this.getMeasurements()[t]);if(n==="auto")if(o.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)n="end";else if(o.start<=this.scrollOffset+this.options.scrollPaddingStart)n="start";else return[this.scrollOffset,n];const r=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,n),n]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[r,l]=this.getOffsetForIndex(t,n);this._scrollToOffset(r,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[u]=this.getOffsetForIndex(t,l);Rt(u,this.scrollOffset)||this.scrollToIndex(t,{align:l,behavior:o})}else this.scrollToIndex(t,{align:l,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(r=>r.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{var t,n;this.itemSizeCache=new Map,(n=(t=this.options).onChange)==null||n.call(t,this,!1)},this.setOptions(i),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const Ae=(e,i,t,n)=>{for(;e<=i;){const o=(e+i)/2|0,r=t(o);if(r<n)e=o+1;else if(r>n)i=o-1;else return o}return e>0?e-1:0};function Pt({measurements:e,outerSize:i,scrollOffset:t}){const n=e.length-1,r=Ae(0,n,s=>e[s].start,t);let l=r;for(;l<n&&e[l].end<t+i;)l++;return{startIndex:r,endIndex:l}}const _t=typeof document<"u"?d.useLayoutEffect:d.useEffect;function zt(e){const i=d.useReducer(()=>({}),{})[1],t={...e,onChange:(o,r)=>{var l;r?Ue.flushSync(i):i(),(l=e.onChange)==null||l.call(e,o,r)}},[n]=d.useState(()=>new Ft(t));return n.setOptions(t),d.useEffect(()=>n._didMount(),[]),_t(()=>n._willUpdate()),n}function kt(e){return zt({observeElementRect:Tt,observeElementOffset:Mt,scrollToFn:$t,...e})}function Dt(e,i){return e!==null&&i!==null&&typeof e=="object"&&typeof i=="object"&&"id"in e&&"id"in i?e.id===i.id:e===i}function At(e=Dt){return d.useCallback((i,t)=>{if(typeof e=="string"){let n=e;return(i==null?void 0:i[n])===(t==null?void 0:t[n])}return e(i,t)},[e])}function jt(){let e=ge();return g(i=>{e.dispose(),e.nextFrame(i)})}function je(e){let i=d.useRef({value:"",selectionStart:null,selectionEnd:null});return We(e.current,"blur",t=>{let n=t.target;n instanceof HTMLInputElement&&(i.current={value:n.value,selectionStart:n.selectionStart,selectionEnd:n.selectionEnd})}),g(()=>{let t=e.current;if(document.activeElement!==t&&t instanceof HTMLInputElement&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==i.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:n,selectionEnd:o}=i.current;n!==null&&o!==null&&t.setSelectionRange(n,o)}i.current={value:"",selectionStart:null,selectionEnd:null}}})}function we(e){return[e.screenX,e.screenY]}function Nt(){let e=d.useRef([-1,-1]);return{wasMoved(i){let t=we(i);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(i){e.current=we(i)}}}function Lt({container:e,accept:i,walk:t,enabled:n=!0}){let o=d.useRef(i),r=d.useRef(t);d.useEffect(()=>{o.current=i,r.current=t},[i,t]),H(()=>{if(!e||!n)return;let l=qe(e);if(!l)return;let s=o.current,u=r.current,c=Object.assign(f=>s(f),{acceptNode:s}),a=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;a.nextNode();)u(a.currentNode)},[e,n,o,r])}function Vt(e){throw new Error("Unexpected object: "+e)}var w=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(w||{});function $e(e,i){let t=i.resolveItems();if(t.length<=0)return null;let n=i.resolveActiveIndex(),o=n??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 1:{o===-1&&(o=t.length);for(let r=o-1;r>=0;--r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 2:{for(let r=o+1;r<t.length;++r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 3:{for(let r=t.length-1;r>=0;--r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 4:{for(let r=0;r<t.length;++r)if(i.resolveId(t[r],r,t)===e.id)return r;return n}case 5:return null;default:Vt(e)}}var Ie=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Ie||{}),Bt={},Ut=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ut||{}),Ht=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ht||{}),Kt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Kt||{}),Wt=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.SetActivationTrigger=5]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=6]="UpdateVirtualConfiguration",e))(Wt||{});function ve(e,i=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=i(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((l,s)=>l.dataRef.current.order-s.dataRef.current.order):at(n,l=>l.dataRef.current.domRef.current),r=t?o.indexOf(t):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let qt={1(e){var i;return(i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,activationTrigger:2,__demoMode:!1}},0(e){var i,t;if((i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},2(e,i){var t,n,o,r,l;if((t=e.dataRef.current)!=null&&t.disabled||(n=e.dataRef.current)!=null&&n.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:a,disabled:f}=e.virtual,x=i.focus===w.Specific?i.idx:$e(i,{resolveItems:()=>a,resolveActiveIndex:()=>{var O,S;return(S=(O=e.activeOptionIndex)!=null?O:a.findIndex(p=>!f(p)))!=null?S:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),h=(r=i.trigger)!=null?r:2;return e.activeOptionIndex===x&&e.activationTrigger===h?e:{...e,activeOptionIndex:x,activationTrigger:h,__demoMode:!1}}let s=ve(e);if(s.activeOptionIndex===null){let a=s.options.findIndex(f=>!f.dataRef.current.disabled);a!==-1&&(s.activeOptionIndex=a)}let u=i.focus===w.Specific?i.idx:$e(i,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled}),c=(l=i.trigger)!=null?l:2;return e.activeOptionIndex===u&&e.activationTrigger===c?e:{...e,...s,activeOptionIndex:u,activationTrigger:c,__demoMode:!1}},3:(e,i)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,i.payload]};let r=i.payload,l=ve(e,u=>(u.push(r),u));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(i.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(r));let s={...e,...l,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},4:(e,i)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==i.id)};let n=ve(e,o=>{let r=o.findIndex(l=>l.id===i.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:2}},5:(e,i)=>e.activationTrigger===i.trigger?e:{...e,activationTrigger:i.trigger},6:(e,i)=>{var t,n;if(e.virtual===null)return{...e,virtual:{options:i.options,disabled:(t=i.disabled)!=null?t:()=>!1}};if(e.virtual.options===i.options&&e.virtual.disabled===i.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let r=i.options.indexOf(e.virtual.options[e.activeOptionIndex]);r!==-1?o=r:o=null}return{...e,activeOptionIndex:o,virtual:{options:i.options,disabled:(n=i.disabled)!=null?n:()=>!1}}}},Se=d.createContext(null);Se.displayName="ComboboxActionsContext";function ne(e){let i=d.useContext(Se);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return i}let Ne=d.createContext(null);function Gt(e){let i=Z("VirtualProvider"),{options:t}=i.virtual,[n,o]=d.useMemo(()=>{let c=i.optionsRef.current;if(!c)return[0,0];let a=window.getComputedStyle(c);return[parseFloat(a.paddingBlockStart||a.paddingTop),parseFloat(a.paddingBlockEnd||a.paddingBottom)]},[i.optionsRef.current]),r=kt({scrollPaddingStart:n,scrollPaddingEnd:o,count:t.length,estimateSize(){return 40},getScrollElement(){var c;return(c=i.optionsRef.current)!=null?c:null},overscan:12}),[l,s]=d.useState(0);H(()=>{s(c=>c+1)},[t]);let u=r.getVirtualItems();return u.length===0?null:j.createElement(Ne.Provider,{value:r},j.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&Bt.JEST_WORKER_ID!==void 0||i.activationTrigger===0)return;i.activeOptionIndex!==null&&t.length>i.activeOptionIndex&&r.scrollToIndex(i.activeOptionIndex)}}},u.map(c=>{var a;return j.createElement(d.Fragment,{key:c.key},j.cloneElement((a=e.children)==null?void 0:a.call(e,{option:t[c.index],open:i.comboboxState===0}),{key:`${l}-${c.key}`,"data-index":c.index,"aria-setsize":t.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let ue=d.createContext(null);ue.displayName="ComboboxDataContext";function Z(e){let i=d.useContext(ue);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Z),t}return i}function Jt(e,i){return X(i.type,qt,e,i)}let Xt=d.Fragment;function Yt(e,i){var t,n;let o=ze(),{value:r,defaultValue:l,onChange:s,form:u,name:c,by:a,disabled:f=o||!1,onClose:x,__demoMode:h=!1,multiple:O=!1,immediate:S=!1,virtual:p=null,nullable:y,...C}=e,E=ht(l),[v=O?[]:void 0,_]=mt(r,s,E),[M,z]=d.useReducer(Jt,{dataRef:d.createRef(),comboboxState:h?0:1,options:[],virtual:p?{options:p.options,disabled:(t=p.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:h}),R=d.useRef(!1),K=d.useRef({static:!1,hold:!1}),W=d.useRef(null),k=d.useRef(null),J=d.useRef(null),B=At(a),$=g(I=>p?a===null?p.options.indexOf(I):p.options.findIndex(T=>B(T,I)):M.options.findIndex(T=>B(T.dataRef.current.value,I))),q=d.useCallback(I=>X(b.mode,{1:()=>v.some(T=>B(T,I)),0:()=>B(v,I)}),[v]),ce=g(I=>M.activeOptionIndex===$(I)),b=d.useMemo(()=>({...M,immediate:S,optionsPropsRef:K,inputRef:W,buttonRef:k,optionsRef:J,value:v,defaultValue:E,disabled:f,mode:O?1:0,virtual:p?M.virtual:null,get activeOptionIndex(){if(R.current&&M.activeOptionIndex===null&&(p?p.options.length>0:M.options.length>0)){if(p){let T=p.options.findIndex(U=>{var ie,Re;return!((Re=(ie=p.disabled)==null?void 0:ie.call(p,U))!=null&&Re)});if(T!==-1)return T}let I=M.options.findIndex(T=>!T.dataRef.current.disabled);if(I!==-1)return I}return M.activeOptionIndex},calculateIndex:$,compare:B,isSelected:q,isActive:ce}),[v,E,f,O,h,M,p]);H(()=>{var I;p&&z({type:6,options:p.options,disabled:(I=p.disabled)!=null?I:null})},[p,p==null?void 0:p.options,p==null?void 0:p.disabled]),H(()=>{M.dataRef.current=b},[b]),it([b.buttonRef,b.inputRef,b.optionsRef],()=>F.closeCombobox(),b.comboboxState===0);let oe=d.useMemo(()=>{var I,T,U;return{open:b.comboboxState===0,disabled:f,activeIndex:b.activeOptionIndex,activeOption:b.activeOptionIndex===null?null:b.virtual?b.virtual.options[(I=b.activeOptionIndex)!=null?I:0]:(U=(T=b.options[b.activeOptionIndex])==null?void 0:T.dataRef.current.value)!=null?U:null,value:v}},[b,f,v]),de=g(()=>{if(b.activeOptionIndex!==null){if(b.virtual)m(b.virtual.options[b.activeOptionIndex]);else{let{dataRef:I}=b.options[b.activeOptionIndex];m(I.current.value)}F.goToOption(w.Specific,b.activeOptionIndex)}}),re=g(()=>{z({type:0}),R.current=!0}),fe=g(()=>{z({type:1}),R.current=!1,x==null||x()}),pe=g((I,T,U)=>(R.current=!1,I===w.Specific?z({type:2,focus:w.Specific,idx:T,trigger:U}):z({type:2,focus:I,trigger:U}))),me=g((I,T)=>(z({type:3,payload:{id:I,dataRef:T}}),()=>{b.isActive(T.current.value)&&(R.current=!0),z({type:4,id:I})})),m=g(I=>X(b.mode,{0(){return _==null?void 0:_(I)},1(){let T=b.value.slice(),U=T.findIndex(ie=>B(ie,I));return U===-1?T.push(I):T.splice(U,1),_==null?void 0:_(T)}})),L=g(I=>{z({type:5,trigger:I})}),F=d.useMemo(()=>({onChange:m,registerOption:me,goToOption:pe,closeCombobox:fe,openCombobox:re,setActivationTrigger:L,selectActiveOption:de}),[]),[V,P]=bt(),N=i===null?{}:{ref:i},G=d.useCallback(()=>{if(E!==void 0)return _==null?void 0:_(E)},[_,E]);return j.createElement(P,{value:V,props:{htmlFor:(n=b.inputRef.current)==null?void 0:n.id},slot:{open:b.comboboxState===0,disabled:f}},j.createElement(st,null,j.createElement(Se.Provider,{value:F},j.createElement(ue.Provider,{value:b},j.createElement(lt,{value:X(b.comboboxState,{0:se.Open,1:se.Closed})},c!=null&&j.createElement(pt,{disabled:f,data:v!=null?{[c]:v}:{},form:u,onReset:G}),Q({ourProps:N,theirProps:C,slot:oe,defaultTag:Xt,name:"Combobox"}))))))}let Qt="input";function Zt(e,i){var t,n,o,r,l;let s=Z("Combobox.Input"),u=ne("Combobox.Input"),c=d.useId(),a=ke(),{id:f=a||`headlessui-combobox-input-${c}`,onChange:x,displayValue:h,disabled:O=s.disabled||!1,autoFocus:S=!1,type:p="text",...y}=e,C=te(s.inputRef,i,Ge()),E=Fe(s.inputRef),v=d.useRef(!1),_=ge(),M=g(()=>{u.onChange(null),s.optionsRef.current&&(s.optionsRef.current.scrollTop=0),u.goToOption(w.Nothing)}),z=d.useMemo(()=>{var m;return typeof h=="function"&&s.value!==void 0?(m=h(s.value))!=null?m:"":typeof s.value=="string"?s.value:""},[s.value,h]);Te(([m,L],[F,V])=>{if(v.current)return;let P=s.inputRef.current;P&&((V===0&&L===1||m!==F)&&(P.value=m),requestAnimationFrame(()=>{if(v.current||!P||(E==null?void 0:E.activeElement)!==P)return;let{selectionStart:N,selectionEnd:G}=P;Math.abs((G??0)-(N??0))===0&&N===0&&P.setSelectionRange(P.value.length,P.value.length)}))},[z,s.comboboxState,E]),Te(([m],[L])=>{if(m===0&&L===1){if(v.current)return;let F=s.inputRef.current;if(!F)return;let V=F.value,{selectionStart:P,selectionEnd:N,selectionDirection:G}=F;F.value="",F.value=V,G!==null?F.setSelectionRange(P,N,G):F.setSelectionRange(P,N)}},[s.comboboxState]);let R=d.useRef(!1),K=g(()=>{R.current=!0}),W=g(()=>{_.nextFrame(()=>{R.current=!1})}),k=jt(),J=g(m=>{switch(v.current=!0,k(()=>{v.current=!1}),m.key){case A.Enter:if(v.current=!1,s.comboboxState!==0||R.current)return;if(m.preventDefault(),m.stopPropagation(),s.activeOptionIndex===null){u.closeCombobox();return}u.selectActiveOption(),s.mode===0&&u.closeCombobox();break;case A.ArrowDown:return v.current=!1,m.preventDefault(),m.stopPropagation(),X(s.comboboxState,{0:()=>u.goToOption(w.Next),1:()=>u.openCombobox()});case A.ArrowUp:return v.current=!1,m.preventDefault(),m.stopPropagation(),X(s.comboboxState,{0:()=>u.goToOption(w.Previous),1:()=>{u.openCombobox(),_.nextFrame(()=>{s.value||u.goToOption(w.Last)})}});case A.Home:if(m.shiftKey)break;return v.current=!1,m.preventDefault(),m.stopPropagation(),u.goToOption(w.First);case A.PageUp:return v.current=!1,m.preventDefault(),m.stopPropagation(),u.goToOption(w.First);case A.End:if(m.shiftKey)break;return v.current=!1,m.preventDefault(),m.stopPropagation(),u.goToOption(w.Last);case A.PageDown:return v.current=!1,m.preventDefault(),m.stopPropagation(),u.goToOption(w.Last);case A.Escape:return v.current=!1,s.comboboxState!==0?void 0:(m.preventDefault(),s.optionsRef.current&&!s.optionsPropsRef.current.static&&m.stopPropagation(),s.mode===0&&s.value===null&&M(),u.closeCombobox());case A.Tab:if(v.current=!1,s.comboboxState!==0)return;s.mode===0&&s.activationTrigger!==1&&u.selectActiveOption(),u.closeCombobox();break}}),B=g(m=>{x==null||x(m),s.mode===0&&m.target.value===""&&M(),u.openCombobox()}),$=g(m=>{var L,F,V;let P=(L=m.relatedTarget)!=null?L:ye.find(N=>N!==m.currentTarget);if(v.current=!1,!((F=s.optionsRef.current)!=null&&F.contains(P))&&!((V=s.buttonRef.current)!=null&&V.contains(P))&&s.comboboxState===0)return m.preventDefault(),s.mode===0&&s.value===null&&M(),u.closeCombobox()}),q=g(m=>{var L,F,V;let P=(L=m.relatedTarget)!=null?L:ye.find(N=>N!==m.currentTarget);(F=s.buttonRef.current)!=null&&F.contains(P)||(V=s.optionsRef.current)!=null&&V.contains(P)||s.disabled||s.immediate&&s.comboboxState!==0&&(u.openCombobox(),_.nextFrame(()=>{u.setActivationTrigger(1)}))}),ce=ae(),b=dt(),{isFocused:oe,focusProps:de}=Pe({autoFocus:S}),{isHovered:re,hoverProps:fe}=_e({isDisabled:O}),pe=d.useMemo(()=>({open:s.comboboxState===0,disabled:O,hover:re,focus:oe,autofocus:S}),[s,re,oe,S,O]),me=xe({ref:C,id:f,role:"combobox",type:p,"aria-controls":(t=s.optionsRef.current)==null?void 0:t.id,"aria-expanded":s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null?void 0:s.virtual?(n=s.options.find(m=>!m.dataRef.current.disabled&&s.compare(m.dataRef.current.value,s.virtual.options[s.activeOptionIndex])))==null?void 0:n.id:(o=s.options[s.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":ce,"aria-describedby":b,"aria-autocomplete":"list",defaultValue:(l=(r=e.defaultValue)!=null?r:s.defaultValue!==void 0?h==null?void 0:h(s.defaultValue):null)!=null?l:s.defaultValue,disabled:O||void 0,autoFocus:S,onCompositionStart:K,onCompositionEnd:W,onKeyDown:J,onChange:B,onFocus:q,onBlur:$},de,fe);return Q({ourProps:me,theirProps:y,slot:pe,defaultTag:Qt,name:"Combobox.Input"})}let en="button";function tn(e,i){var t;let n=Z("Combobox.Button"),o=ne("Combobox.Button"),r=te(n.buttonRef,i),l=d.useId(),{id:s=`headlessui-combobox-button-${l}`,disabled:u=n.disabled||!1,autoFocus:c=!1,...a}=e,f=ge(),x=je(n.inputRef),h=g(R=>{switch(R.key){case A.Space:case A.Enter:return R.preventDefault(),R.stopPropagation(),n.comboboxState===1&&o.openCombobox(),f.nextFrame(()=>x());case A.ArrowDown:return R.preventDefault(),R.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),f.nextFrame(()=>{n.value||o.goToOption(w.First)})),f.nextFrame(()=>x());case A.ArrowUp:return R.preventDefault(),R.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),f.nextFrame(()=>{n.value||o.goToOption(w.Last)})),f.nextFrame(()=>x());case A.Escape:return n.comboboxState!==0?void 0:(R.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&R.stopPropagation(),o.closeCombobox(),f.nextFrame(()=>x()));default:return}}),O=g(R=>{R.preventDefault(),!ut(R.currentTarget)&&(R.button===Ie.Left&&(n.comboboxState===0?o.closeCombobox():o.openCombobox()),x())}),S=ae([s]),{isFocusVisible:p,focusProps:y}=Pe({autoFocus:c}),{isHovered:C,hoverProps:E}=_e({isDisabled:u}),{pressed:v,pressProps:_}=Je({disabled:u}),M=d.useMemo(()=>({open:n.comboboxState===0,active:v||n.comboboxState===0,disabled:u,value:n.value,hover:C,focus:p}),[n,C,p,v,u]),z=xe({ref:r,id:s,type:Xe(e,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":S,disabled:u||void 0,autoFocus:c,onMouseDown:O,onKeyDown:h},y,E,_);return Q({ourProps:z,theirProps:a,slot:M,defaultTag:en,name:"Combobox.Button"})}let nn="div",on=Ee.RenderStrategy|Ee.Static;function rn(e,i){var t;let n=d.useId(),{id:o=`headlessui-combobox-options-${n}`,hold:r=!1,anchor:l,portal:s=!1,modal:u=!0,...c}=e,a=Z("Combobox.Options"),f=ne("Combobox.Options"),x=Ye(l);x&&(s=!0);let[h,O]=Qe(x),S=Ze(),p=te(a.optionsRef,i,x?h:null),y=Fe(a.optionsRef),C=et(),E=C!==null?(C&se.Open)===se.Open:a.comboboxState===0;tt(a.inputRef,f.closeCombobox,E),nt(y,a.__demoMode?!1:u&&a.comboboxState===0),ft({allowed:g(()=>[a.inputRef.current,a.buttonRef.current,a.optionsRef.current])},a.__demoMode?!1:u&&a.comboboxState===0),H(()=>{var k;a.optionsPropsRef.current.static=(k=e.static)!=null?k:!1},[a.optionsPropsRef,e.static]),H(()=>{a.optionsPropsRef.current.hold=r},[a.optionsPropsRef,r]),Lt({container:a.optionsRef.current,enabled:a.comboboxState===0,accept(k){return k.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let v=ae([(t=a.buttonRef.current)==null?void 0:t.id]),_=d.useMemo(()=>({open:a.comboboxState===0,option:void 0}),[a]),M=g(()=>{f.setActivationTrigger(0)}),z=xe(x?S():{},{"aria-labelledby":v,role:"listbox","aria-multiselectable":a.mode===1?!0:void 0,id:o,ref:p,style:{...O,"--input-width":Oe(a.inputRef,!0).width,"--button-width":Oe(a.buttonRef,!0).width},onWheel:M});a.virtual&&E&&Object.assign(c,{children:j.createElement(Gt,null,c.children)});let[R,K]=d.useState(a.value);a.value!==R&&a.comboboxState===0&&a.mode!==1&&K(a.value);let W=g(k=>a.compare(R,k));return j.createElement(ot,{enabled:s?e.static||E:!1},j.createElement(ue.Provider,{value:a.mode===1?a:{...a,isSelected:W}},Q({ourProps:z,theirProps:c,slot:_,defaultTag:nn,features:on,visible:E,name:"Combobox.Options"})))}let sn="div";function ln(e,i){var t,n,o,r;let l=Z("Combobox.Option"),s=ne("Combobox.Option"),u=d.useId(),{id:c=`headlessui-combobox-option-${u}`,value:a,disabled:f=(o=(n=(t=l.virtual)==null?void 0:t.disabled)==null?void 0:n.call(t,a))!=null?o:!1,order:x=null,...h}=e,O=je(l.inputRef),S=l.virtual?l.activeOptionIndex===l.calculateIndex(a):l.activeOptionIndex===null?!1:((r=l.options[l.activeOptionIndex])==null?void 0:r.id)===c,p=l.isSelected(a),y=d.useRef(null),C=rt({disabled:f,value:a,domRef:y,order:x}),E=d.useContext(Ne),v=te(i,y,E?E.measureElement:null),_=g(()=>s.onChange(a));H(()=>s.registerOption(c,C),[C,c]);let M=d.useRef(!(l.virtual||l.__demoMode));H(()=>{if(!l.virtual&&!l.__demoMode)return Ce().requestAnimationFrame(()=>{M.current=!0})},[l.virtual,l.__demoMode]),H(()=>{if(M.current&&l.comboboxState===0&&S&&l.activationTrigger!==0)return Ce().requestAnimationFrame(()=>{var $,q;(q=($=y.current)==null?void 0:$.scrollIntoView)==null||q.call($,{block:"nearest"})})},[y,S,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let z=g($=>{$.preventDefault(),$.button===Ie.Left&&(f||(_(),ct()||requestAnimationFrame(()=>O()),l.mode===0&&s.closeCombobox()))}),R=g(()=>{if(f)return s.goToOption(w.Nothing);let $=l.calculateIndex(a);s.goToOption(w.Specific,$)}),K=Nt(),W=g($=>K.update($)),k=g($=>{if(!K.wasMoved($)||f||S)return;let q=l.calculateIndex(a);s.goToOption(w.Specific,q,0)}),J=g($=>{K.wasMoved($)&&(f||S&&(l.optionsPropsRef.current.hold||s.goToOption(w.Nothing)))}),B=d.useMemo(()=>({active:S,focus:S,selected:p,disabled:f}),[S,p,f]);return Q({ourProps:{id:c,ref:v,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":p,disabled:void 0,onMouseDown:z,onFocus:R,onPointerEnter:W,onMouseEnter:W,onPointerMove:k,onMouseMove:k,onPointerLeave:J,onMouseLeave:J},theirProps:h,slot:B,defaultTag:sn,name:"Combobox.Option"})}let an=Y(Yt),Le=Y(tn),Ve=Y(Zt),un=St,Be=Y(rn),be=Y(ln),cn=Object.assign(an,{Input:Ve,Button:Le,Label:un,Options:Be,Option:be});function hn({id:e,label:i,options:t,errorMsg:n,value:o,customValue:r=!0,placeholder:l,required:s,onChange:u}){const[c,a]=d.useState(""),f=d.useRef(),x=h=>{f.current&&clearTimeout(f.current),f.current=window.setTimeout(()=>{He.get("",h,{preserveState:!0,preserveScroll:!0})},500)};return D.jsxs(D.Fragment,{children:[D.jsx("label",{htmlFor:e,className:`block mb-1 text-sm font-medium text-gray-900 ${s?"after:content-['*'] after:text-red-500":""}`,children:i}),D.jsxs(cn,{value:o,onChange:u,onClose:()=>a(""),children:[D.jsxs("div",{className:"relative",children:[D.jsx(Ve,{displayValue:h=>h.name,onChange:h=>{a(h.target.value.trim()),x({[e]:h.target.value.trim()})},id:e,className:"w-full p-2.5 rounded-md",placeholder:l,required:s}),D.jsx(Le,{className:"group absolute inset-y-0 right-0 px-2.5",children:D.jsx(Ke,{className:"size-4 text-gray-500"})})]}),D.jsxs(Be,{anchor:"bottom start",className:"bg-white border border-gray-300 rounded-md",children:[c.trim().length>0&&t.length==0&&r&&D.jsxs(be,{value:{id:0,name:c},className:"group flex text-sm cursor-default items-center gap-2 py-1.5 px-3 select-none data-[focus]:bg-primary-100",children:["Tambah satuan",D.jsxs("span",{className:"font-medium",children:['"',c,'"']})]}),t.map(h=>D.jsx(be,{value:h,className:"group flex cursor-default items-center gap-2 py-1.5 px-3 select-none data-[focus]:bg-primary-100",children:D.jsx("div",{className:"text-sm/6 text-black",children:h.name})},h.id))]})]}),n&&D.jsx("p",{className:"mt-1 text-xs text-red-600 ",children:n})]})}export{hn as C};
