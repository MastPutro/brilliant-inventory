import{j as e,r as m,x as f}from"./app-Bjn5v1rC.js";import{A as g}from"./Alert-B2CoNMAD.js";import{B as x}from"./Button-Cu1muM6q.js";import{T as N,d as h}from"./Icons-CqyroUO_.js";import{T as y}from"./Table-JrttG2Ft.js";import{A as v}from"./AuthLayout-CslI81Fu.js";import{p as n,b as o,e as j}from"./formats-toZ2nqUc.js";import{B as w}from"./Barcode-DS-Lk9Ak.js";const T=({isOpen:r,onClose:a,children:i})=>r?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-3/4 max-h-[80vh] overflow-y-auto",children:[e.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-500",children:"âœ–"}),i]})}):null;function F({auth:r,productIn:a,flash:i}){const[p,d]=m.useState(!1),l=m.useRef(null),u=()=>{if(l.current){const s=l.current.innerHTML,t=document.body.innerHTML;document.body.innerHTML=s,window.print(),document.body.innerHTML=t,window.location.reload()}},c=a.products.map(s=>[s.name,s.quantity,n(s.price),n(s.total_price)]);return c.push(["","","Jumlah",`${n(a.products.reduce((s,t)=>s+t.total_price,0))}`]),e.jsxs(v,{user:r.user,children:[e.jsx("h2",{className:"font-semibold text-gray-800 text-2xl mb-6",children:"Detail Barang Masuk"}),e.jsxs("div",{className:"p-4 bg-white rounded-lg grid grid-cols-2 text-base font-medium gap-x-3 w-fit mb-3",children:[e.jsx("p",{children:"ID Transaksi"}),e.jsxs("p",{children:[": ",o(a.id)]}),e.jsx("p",{children:"Tanggal"}),e.jsxs("p",{children:[": ",j(a.date)]}),e.jsx("p",{children:"Nama Distributor"}),e.jsxs("p",{children:[": ",a.distributor]})]}),e.jsx(g,{flash:i}),e.jsx(y,{header:[{label:"Nama Barang"},{label:"Jumlah"},{label:"Harga"},{label:"Total Harga"}],body:c}),e.jsxs("div",{className:"flex flex-row mt-6",children:[e.jsxs(f,{href:`/product-in/${o(a.id)}`,as:"button",method:"delete",type:"button",className:"btn danger",children:[e.jsx(N,{className:"h-5 w-5"})," Hapus"]}),e.jsx("div",{className:"ml-4",children:e.jsx(x,{type:"button",icon:e.jsx(h,{className:"w-5 h-5"}),onClick:()=>d(!0),children:"Cetak Barcode"})})]}),e.jsxs(T,{isOpen:p,onClose:()=>d(!1),children:[e.jsxs("div",{ref:l,children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Barcode Produk"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:a.products.map((s,t)=>Array(s.quantity).fill(0).map((k,b)=>e.jsxs("div",{className:"border p-4 rounded-md text-center",children:[e.jsx("p",{className:"text-sm font-semibold mb-2",children:s.name}),e.jsxs("div",{className:"flex",children:[e.jsx(w,{value:s.code}),e.jsxs("div",{className:"w-30",children:[e.jsx("p",{children:o(a.id)}),e.jsx("p",{children:j(a.date)})]})]})]},`${t}-${b}`)))})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(x,{type:"button",icon:e.jsx(h,{className:"w-5 h-5"}),onClick:u,children:"Cetak"})})]})]})}export{F as default};
