import{r as u,G as f,j as e,x as N}from"./app-Bjn5v1rC.js";import{B as y,S as w,P as k,T as F}from"./Icons-CqyroUO_.js";import{A as B}from"./AuthLayout-CslI81Fu.js";import{B as m}from"./Button-Cu1muM6q.js";import{p as S,a as o}from"./formats-toZ2nqUc.js";import{T as c}from"./TextInput-D0DmMJqU.js";import{C as d}from"./ComboboxSelect-CvbivoLx.js";import{T as C}from"./Textarea-goP6-HIq.js";import"./active-element-history-DuYwnnKx.js";function K({auth:x,product:a,categories:g,units:h}){const[r,l]=u.useState(!1),{data:t,setData:n,put:j,processing:p,errors:i}=f({name:a.name,category:{id:a.category.id,name:a.category.name},unit:{id:a.unit.id,name:a.unit.name},price:a.price,code:a.code,description:a.description}),b=s=>{s.preventDefault(),j(route("products.edit",{id:o(a.id)}))};return e.jsxs(B,{user:x.user,children:[e.jsx("h2",{className:"font-semibold text-gray-800 text-2xl mb-6",children:"Detail Barang"}),e.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 w-full gap-4 bg-white p-4 rounded-md",children:[e.jsxs("div",{className:"sm:col-span-2 md:col-span-3",children:[e.jsx("p",{className:"text-xl font-medium mb-2",children:"Informasi Barang"}),e.jsx("hr",{className:"border border-gray-200"})]}),e.jsx("div",{className:"max-w-screen-sm",children:r?e.jsx(c,{label:"Nama Barang",value:t.name,onChange:s=>n("name",s.target.value),id:"name",errorMsg:i.name,required:!0,autoFocus:!0}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"block mb-1 text-sm font-medium text-gray-600",children:"Nama Barang"}),e.jsx("p",{className:"w-full text-lg text-gray-900",children:a.name})]})}),e.jsx("div",{className:"max-w-screen-sm",children:r?e.jsx(c,{label:"Harga",value:t.price||"",type:"number",onChange:s=>n("price",+s.target.value),id:"price",errorMsg:i.price,required:!0}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"block mb-1 text-sm font-medium text-gray-600",children:"Harga"}),e.jsx("p",{className:"w-full text-lg text-gray-900",children:S(a.price)})]})}),e.jsx("div",{className:"max-w-screen-sm",children:r?e.jsx(d,{label:"Kategori",options:g,value:t.category||{},onChange:s=>{n("category",{id:s==null?void 0:s.id,name:s==null?void 0:s.name})},id:"category",errorMsg:i.category}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"block mb-1 text-sm font-medium text-gray-600",children:"Kategori"}),e.jsx("p",{className:"w-full text-lg text-gray-900",children:a.category.name||"-"})]})}),e.jsx("div",{className:"max-w-screen-sm",children:r?e.jsx(d,{label:"Satuan",options:h,value:t.unit||{},onChange:s=>n("unit",{id:s==null?void 0:s.id,name:s==null?void 0:s.name}),id:"unit",errorMsg:i.unit}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"block mb-1 text-sm font-medium text-gray-600",children:"Satuan"}),e.jsx("p",{className:"w-full text-lg text-gray-900",children:a.unit.name||"-"})]})}),e.jsx("div",{className:"max-w-screen-sm",children:r?e.jsx(c,{label:"Barcode",value:t.code,type:"number",onChange:s=>n("code",s.target.value.trim()),id:"code",errorMsg:i.code}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"block mb-1 text-sm font-medium text-gray-600",children:"Barcode"}),e.jsx("p",{className:"w-full text-lg text-gray-900",children:a.code})]})}),e.jsx("div",{className:"max-w-screen-sm",children:!r&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"block mb-1 text-sm font-medium text-gray-600",children:"Stok"}),e.jsx("p",{className:"w-full text-lg text-gray-900",children:a.stock})]})}),e.jsx("div",{className:"max-w-screen-sm sm:col-span-2",children:r?e.jsx(C,{label:"Deskripsi",value:t.description,onChange:s=>n("description",s.target.value),id:"description",errorMsg:i.description}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"block mb-1 text-sm font-medium text-gray-600",children:"Deskripsi"}),e.jsx("p",{className:"w-full text-lg text-gray-900",children:a.description||"-"})]})}),e.jsx("div",{className:"max-w-screen-sm sm:col-span-3 flex gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx(m,{type:"button",colorScheme:"secondary",onClick:()=>l(!1),icon:e.jsx(y,{className:"w-5 h-5"}),children:"Batal"}),e.jsx(m,{type:"submit",icon:e.jsx(w,{className:"w-5 h-5"}),disabled:p,children:"Simpan"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{colorScheme:"warning",type:"button",onClick:()=>l(!0),icon:e.jsx(k,{className:"w-5 h-5"}),children:"Edit"}),e.jsxs(N,{href:`/products/${o(a.id)}`,as:"button",method:"delete",type:"button",className:"btn danger",children:[e.jsx(F,{className:"h-5 w-5"}),"Hapus"]})]})})]})]})}export{K as default};
